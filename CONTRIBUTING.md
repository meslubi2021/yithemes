# Contributing

Thank you for taking the time to contribute to Yi Themes.

## Known Inconsistencies

Due to the differences between Atom and Visual Studio Code, especially the features missing in Code, this extension can not guarantee that every bit of the editor is colored correctly. Some common known inconsistencies are listed below:

### Invaild Tokens

Invaild tokens are highlighted in white foreground; they are supposed to have a red background at the same time.
This won't be fixed until Visual Studio Code picks up token background colors support. ([#3429](https://github.com/Microsoft/vscode/issues/3429))

### Integrated Terminal

This extension does not specify ANSI colors used in the integrated terminal, because there is no matching color is One Dark & One Light themes. The colors from default `vs-dark` or `vs-light` themes will be used. If you feel it not harmonious, please use `workbench.colorCustomizations` setting to specify favored colors.

### Markdown Preview

After switching to another color theme, some content of Markdown Preview will still show in the style of Yi Themes. To avoid this behavior, please disable Yi Themes extension when it is not used.

## Reporting New Issues

Issues asking questions, providing suggestions or reporting bugs are all welcomed.

## Building From Source

Yi Themes is not written in plain JSON. The JSON & CSS files in the `dist` folder are generated by TypeScript.

In the `src` folder are the scripts used to generate the theme. `dark.ts` and `light.ts` contain colors collected from One Dark & One Light themes, which are represented and manipulated using `tinycolor2` npm package. The palettes are used by `syntax.ts`, `workbench.ts` and `markdown.ts` to map the colors to syntax highlighting, editor UI and markdown preview respectively. `index.ts` puts everything together and outputs the finished JSON & CSS files.

Below are some commands to build the extension:

1. Obtain the source:
  `git clone https://github.com/wangweixuan/yithemes.git`

2. Fetch dependencies and build:
  `npm install` or `yarn`

3. Test (in a new Visual Studio Code Insiders window):
  `npm test` or `yarn test`

4. Rebuild after making modifications:
  `npm run prepare` or `yarn prepare`

This extension does not include unit tests or integration tests.

## Versioning & Publishing

Yi Themes adheres to [Semantic Versioning](https://semver.org). Its version is unrelated to the version of One Dark & One Light themes or Visual Studio Code. A new version will be published regularly when One Dark & One Light themes or Code gets an update.
