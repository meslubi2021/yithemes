# Contributing

Thank you for taking the time to contribute to Yi Themes.

## Known Inconsistencies

Due to the differences between Atom and Visual Studio Code, especially the features missing in Code, this extension can not guarantee that every bit of the editor is colored correctly. Some common known inconsistencies are listed below:

### Invaild Tokens

Invaild tokens are highlighted in white foreground; they are supposed to have a red background at the same time.
This can not be fixed because Code does not support specifying token background colors. ([#29481](https://github.com/Microsoft/vscode/issues/29481))

### Word Highlighting

Word highlighting is a feature in Code that highlights all occurrences of the word below your cursor in the current file. This feature will not function because this extension specifys word highlighting color as transparent.
There is no matching color in One Dark & One Light themes, therefore transparent is specified. If you miss this feature, please use `editor.tokenColorCustomizations` setting to specify a favored color.

### Effects and Paddings

In Atom, theming is achieved by injecting CSS files into the UI. While in Code, extensions may only specify limited colors in JSON files and the editor is responsible for converting them to CSS rules. As a result, the shadow effects and the paddings specified in One Dark & One Light will clearly not be ported to Code.

### Integrated Terminal

This extension does not specify ANSI colors used in the integrated terminal, because there is no matching color is One Dark & One Light themes. The colors from default `vs-dark` or `vs-light` themes will be used. If you feel it not harmonious, please use `workbench.colorCustomizations` setting to specify favored colors.

### Embedded Webview

Colors in embedded webview are not harmonious with other parts of the editor. This is because syntax highlighting and workbench color themes cannot control those views. However, it is possible that an extension specifies a CSS file to be injected in Markdown Previews. If you think these styles are necessary, please file an issue.

## Reporting New Issues

Issues asking questions, providing suggestions or reporting bugs are all welcomed.

## Building From Source

Yi Themes is not written in plain JSON. The JSON files in the `dist` folder are generated by TypeScript.

In the `src` folder are the scripts used to generate the theme. `dark.palette.ts` and `light.palette.ts` contain colors collected from One Dark & One Light themes. The colors are represented and manipulated using `tinycolor2` npm package. The palettes are imported by `*.syntax.ts` and `*.workbench.ts` to map the colors to syntax highlighting and editor UI respectively. `index.ts` puts everything together and outputs the finished JSON files.

Below are some commands to build the extension:

1. Obtain the source:
  `git clone https://github.com/wangweixuan/yithemes.git`

2. Fetch dependencies and build:
  `npm i` or `yarn`

3. Rebuild:
  `npm run prepare` or `yarn prepare`

4. Test (in a new Visual Studio Code window):
  `npm test` or `yarn test`

This extension does not include unit tests or integration tests.

## Versioning & Publishing

Yi Themes adheres to [Semantic Versioning](https://semver.org). Its version is unrelated to the version of One Dark & One Light themes or Visual Studio Code. A new version will be published regularly when One Dark & One Light themes or Code gets an update.
